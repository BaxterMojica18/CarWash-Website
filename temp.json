{"openapi":"3.1.0","info":{"title":"Car Wash Manager API","description":"Backend API for dashboard, invoicing, and settings.","version":"1.0.0"},"paths":{"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/demo-login":{"post":{"tags":["Authentication"],"summary":"Demo Login","operationId":"demo_login_api_auth_demo_login_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}}}}},"/api/settings/locations":{"get":{"tags":["Settings"],"summary":"Get Locations","operationId":"get_locations_api_settings_locations_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Location"},"type":"array","title":"Response Get Locations Api Settings Locations Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Settings"],"summary":"Create Location","operationId":"create_location_api_settings_locations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Location"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/settings/locations/{location_id}":{"put":{"tags":["Settings"],"summary":"Update Location","operationId":"update_location_api_settings_locations__location_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"integer","title":"Location Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LocationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Location"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Settings"],"summary":"Delete Location","operationId":"delete_location_api_settings_locations__location_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"location_id","in":"path","required":true,"schema":{"type":"integer","title":"Location Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/settings/products":{"get":{"tags":["Settings"],"summary":"Get Products","operationId":"get_products_api_settings_products_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProductService"},"type":"array","title":"Response Get Products Api Settings Products Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Settings"],"summary":"Create Product","operationId":"create_product_api_settings_products_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductServiceCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductService"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/settings/products/{product_id}":{"put":{"tags":["Settings"],"summary":"Update Product","operationId":"update_product_api_settings_products__product_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductServiceCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProductService"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Settings"],"summary":"Delete Product","operationId":"delete_product_api_settings_products__product_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"product_id","in":"path","required":true,"schema":{"type":"integer","title":"Product Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invoices/":{"get":{"tags":["Invoices"],"summary":"Get Invoices","operationId":"get_invoices_api_invoices__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/Invoice"},"type":"array","title":"Response Get Invoices Api Invoices  Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Invoices"],"summary":"Create Invoice","operationId":"create_invoice_api_invoices__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Invoice"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/invoices/{invoice_id}":{"get":{"tags":["Invoices"],"summary":"Get Invoice","operationId":"get_invoice_api_invoices__invoice_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"integer","title":"Invoice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Invoice"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invoices/{invoice_id}/pdf":{"get":{"tags":["Invoices"],"summary":"Download Invoice Pdf","operationId":"download_invoice_pdf_api_invoices__invoice_id__pdf_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"integer","title":"Invoice Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/invoices/dashboard/stats":{"get":{"tags":["Invoices"],"summary":"Get Dashboard Stats","operationId":"get_dashboard_stats_api_invoices_dashboard_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardStats"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/health":{"get":{"summary":"Health Check","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Read Root","operationId":"read_root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/{page}.html":{"get":{"summary":"Read Page","operationId":"read_page__page__html_get","parameters":[{"name":"page","in":"path","required":true,"schema":{"type":"string","title":"Page"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"DashboardStats":{"properties":{"total_revenue":{"type":"number","title":"Total Revenue"},"monthly_wash_count":{"type":"integer","title":"Monthly Wash Count"},"total_invoices":{"type":"integer","title":"Total Invoices"},"active_locations":{"type":"integer","title":"Active Locations"}},"type":"object","required":["total_revenue","monthly_wash_count","total_invoices","active_locations"],"title":"DashboardStats"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"Invoice":{"properties":{"id":{"type":"integer","title":"Id"},"invoice_number":{"type":"string","title":"Invoice Number"},"date":{"type":"string","format":"date-time","title":"Date"},"customer_name":{"type":"string","title":"Customer Name"},"total_amount":{"type":"number","title":"Total Amount"},"location_id":{"type":"integer","title":"Location Id"},"items":{"items":{"$ref":"#/components/schemas/InvoiceItem"},"type":"array","title":"Items"}},"type":"object","required":["id","invoice_number","date","customer_name","total_amount","location_id","items"],"title":"Invoice"},"InvoiceCreate":{"properties":{"customer_name":{"type":"string","title":"Customer Name"},"location_id":{"type":"integer","title":"Location Id"},"items":{"items":{"$ref":"#/components/schemas/InvoiceItemCreate"},"type":"array","title":"Items"}},"type":"object","required":["customer_name","location_id","items"],"title":"InvoiceCreate"},"InvoiceItem":{"properties":{"id":{"type":"integer","title":"Id"},"product_service_id":{"type":"integer","title":"Product Service Id"},"quantity":{"type":"integer","title":"Quantity"},"unit_price":{"type":"number","title":"Unit Price"},"subtotal":{"type":"number","title":"Subtotal"}},"type":"object","required":["id","product_service_id","quantity","unit_price","subtotal"],"title":"InvoiceItem"},"InvoiceItemCreate":{"properties":{"product_service_id":{"type":"integer","title":"Product Service Id"},"quantity":{"type":"integer","title":"Quantity"},"unit_price":{"type":"number","title":"Unit Price"}},"type":"object","required":["product_service_id","quantity","unit_price"],"title":"InvoiceItemCreate"},"Location":{"properties":{"name":{"type":"string","title":"Name"},"address":{"type":"string","title":"Address"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","address","id"],"title":"Location"},"LocationCreate":{"properties":{"name":{"type":"string","title":"Name"},"address":{"type":"string","title":"Address"}},"type":"object","required":["name","address"],"title":"LocationCreate"},"ProductService":{"properties":{"name":{"type":"string","title":"Name"},"price":{"type":"number","title":"Price"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"type":{"type":"string","title":"Type"},"id":{"type":"integer","title":"Id"}},"type":"object","required":["name","price","type","id"],"title":"ProductService"},"ProductServiceCreate":{"properties":{"name":{"type":"string","title":"Name"},"price":{"type":"number","title":"Price"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"type":{"type":"string","title":"Type"}},"type":"object","required":["name","price","type"],"title":"ProductServiceCreate"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"},"is_demo":{"type":"boolean","title":"Is Demo"}},"type":"object","required":["access_token","token_type","is_demo"],"title":"Token"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserLogin"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/auth/login"}}}}}}